# 《JavaScript设计模式与开发实践》

## 代理模式

> 代理模式是为一个对象提供一个代用品或占位符，以便控制对它的访问。

- 缓存复杂运算结果，异步加载图片。
- 防火墙代理：控制网络资源的访问，保护主题不让“坏人”接近。
- 远程代理：为一个对象在不同的地址空间提供局部代表，在 Java 中，远程代理可以是另一个虚拟机中的对象。
- 保护代理：用于对象应该有不同访问权限的情况。
- 智能引用代理：取代了简单的指针，它在访问对象时执行一些附加操作，比如计算一个对象被引用的次数。
- 写时复制代理：通常用于复制一个庞大对象的情况。写时复制代理延迟了复制的过程，当对象被真正修改时，
  才对它进行复制操作。写时复制代理是虚拟代理的一种变体，DLL（操作系统中的动态链接库）是其典型运用场景。

## 发布—订阅模式（观察者模式）

- 模块间通信

## 享元模式

> 享元模式的目标是尽量减少共享对象的数量。

以下情况发生时便可以使用享元模式：
  - 一个程序中使用了大量的相似对象。
  - 由于使用了大量对象，造成很大的内存开销。
  - 对象的大多数状态都可以变为外部状态。
  - 剥离出对象的外部状态之后，可以用相对较少的共享对象取代大量对象。

关于如何划分内部状态和外部状态，下面的几条经验提供了一些指引:
  - 内部状态存储于对象内部。
  - 内部状态可以被一些对象共享。 
  - 内部状态独立于具体的场景，通常不会改变。
  - 外部状态取决于具体的场景，并根据场景而变化，外部状态不能被共享。